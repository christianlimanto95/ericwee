function clearFileInput(t){try{t.value=null}catch(e){}t.value&&t.parentNode.replaceChild(t.cloneNode(!0),t),$(".form-input-image-preview").removeAttr("src")}$(function(){$(".input-image").on("change",function(){var t=$(this).next(),e=new FileReader;e.onload=function(e){t.attr("src",e.target.result)},e.readAsDataURL($(this)[0].files[0]),$(this).closest(".edit-item").find(".btn-save").removeAttr("disabled")}),$(".btn-save").on("click",function(t){this.hasAttribte("disabled")&&t.preventDefault()}),$(".form-delete").on("submit",function(t){var e=confirm("are you sure?");e||t.preventDefault()}),$(".btn-add").on("click",function(){$(".dialog").removeClass("hidden")}),$(".form-input-at").on("change",function(){"3"==$(this).val()?$(".form-input-index").removeClass("hidden"):$(".form-input-index").addClass("hidden")}),$(".form-input-index").on("blur",function(){var t=parseInt($(this).val());isNaN(t)?$(this).val("1"):t>parseInt($(this).attr("max"))&&$(this).val(parseInt($(this).attr("max")))}),$(document).on("change",".form-input-image",function(){var t=$(".form-input-image-preview"),e=new FileReader;e.onload=function(e){var n=new Image;n.src=e.target.result,n.onload=function(){},t.attr("src",n.src)},e.readAsDataURL($(this)[0].files[0])}),0==$(".edit-item").length&&$(".form-input-at").attr("disabled",!0),$(".form-input-image").on("change",function(){$(".btn-submit").removeAttr("disabled")}),$(".dialog-btn-close, .btn-cancel").on("click",function(){$(".dialog").addClass("hidden"),clearFileInput($(".form-input-image")[0]),$(".btn-submit").attr("disabled",!0)})});